(this["webpackJsonpjs-band-hw-task-7"]=this["webpackJsonpjs-band-hw-task-7"]||[]).push([[0],{30:function(e,t,a){e.exports=a(40)},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),l=a.n(o),i=a(4),c=a(11),s=a(10),d=a(29),u=function(){return{type:"DELETE"}},p=function(e){return{type:"TOGGLE_OPEN",payload:e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"ADD_TODO":return[].concat(Object(d.a)(e),[n]);case"DONE_TODO":var r=e.map((function(e){return e.id===n&&(e=Object(s.a)({},e,{done:!e.done})),e}));return r;case"DELETE_TODO":return e.filter((function(e){return e.id!==n}));case"UPDATE_TODO":var o=e.map((function(e){return e.id===n.id&&(e=Object(s.a)({},e,{title:n.title,description:n.description,priority:n.priority})),e}));return o;default:return e}},h={search:"",open:"all",priority:"all"},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"CHANGE_SEARCH":return Object(s.a)({},e,{search:n});case"CHANGE_STATUS":return Object(s.a)({},e,{open:n});case"CHANGE_PRIORITY":return Object(s.a)({},e,{priority:n});default:return e}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"EDIT":return{editId:n.id,editTitle:n.title,editDescription:n.description,editPriority:n.priority};case"DELETE":return{editTitle:"",editDescription:"",editPriority:""};default:return e}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"TOGGLE_OPEN":return{isOpen:n};default:return e}},y=Object(c.b)({todo:m,filter:f,edit:E,popup:v}),b=Object(c.c)(y),g=a(27),O=a(9);var N=function(){return r.a.createElement("header",{className:"p-2 bg-warning text-white"},"TODOList")};var w=function(e){var t=e.children;return r.a.createElement("main",{className:"container"},t)};var T=function(){return r.a.createElement("footer",{className:"footer fixed-bottom p-2 bg-warning text-white"},"Andrii Maruniak")},C=a(12),D=a(13),k=a(15),j=a(14),x=a(16),S=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(k.a)(this,Object(j.a)(t).call(this,e))).handleClickSave=function(e){e.preventDefault();var t=a.props,n=t.addTodo,r=t.toggleOpen,o=t.updateTodo,l=a.state,i=l.id,c=l.title,s=l.description,d=l.priority;a.textarea.value&&a.input.value&&(c&&s&&d?o({id:i,title:a.input.value,description:a.textarea.value,priority:a.select.value}):n({id:Date.now().toString(),title:a.input.value,description:a.textarea.value,priority:a.select.value,done:!1}),u(),a.input.value=null,a.textarea.value=null,r(!1))},a.handleClickCancel=function(){(0,a.props.toggleOpen)(!1)},a.props=e,a.state={id:"",title:"",description:"",priority:"high"},a}return Object(x.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.id,a=e.title,n=e.description,r=e.priority;this.setState({id:t,title:a,description:n,priority:r})}},{key:"render",value:function(){var e=this,t=this.state,a=t.title,n=t.description,o=t.priority;return r.a.createElement("div",{className:"modal fade show",style:{display:"block",opacity:".15s"},tabIndex:"-1"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLongTitle"},"Create/Edit"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return e.handleClickCancel()}},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",{className:"create-task-form"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title",style:{display:"block"}},"Title:",r.a.createElement("input",{name:"title",type:"text",className:"form-control",placeholder:"Title",ref:function(t){return e.input=t},defaultValue:a,required:!0})),r.a.createElement("div",{className:"invalid-feedback"},"Please enter title!")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"description",style:{display:"block"}},"Description:",r.a.createElement("textarea",{type:"text",name:"description",className:"form-control",placeholder:"Description",ref:function(t){return e.textarea=t},defaultValue:n,required:!0}),r.a.createElement("div",{className:"invalid-feedback"},"Please enter description!"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"priority",style:{display:"block"}},"Priority:",r.a.createElement("select",{name:"priority",className:"form-control",ref:function(t){return e.select=t},defaultValue:o},r.a.createElement("option",{value:"high"},"High"),r.a.createElement("option",{value:"normal"},"Normal"),r.a.createElement("option",{value:"low"},"Low")))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-warning text-white","data-dismiss":"modal",onClick:function(){return e.handleClickCancel()}},"Close"),r.a.createElement("button",{type:"submit",className:"btn btn-success",onClick:function(t){return e.handleClickSave(t)},"data-dismiss":"modal"},"Save changes")))))}}]),t}(r.a.Component),P=Object(i.b)((function(e){return{id:e.edit.editId,title:e.edit.editTitle,description:e.edit.editDescription,priority:e.edit.editPriority}}),{addTodo:function(e){return{type:"ADD_TODO",payload:e}},updateTodo:function(e){return{type:"UPDATE_TODO",payload:e}},toggleOpen:p})(S),_=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(k.a)(this,Object(j.a)(t).call(this,e))).handleDone=function(){var e=a.props;(0,e.doneTodo)(e.todo.id)},a.handleDelete=function(){var e=a.props;(0,e.deleteTodo)(e.todo.id)},a.handleEdit=function(){var e=a.props,t=e.edit,n=e.todo,r=e.toggleOpen;t(n),r(!0)},a.props=e,a}return Object(x.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this.props.todo,t="task col-sm-3 shadow rounded p-3 mr-3 mb-4 ";return t+=e.done?"bg-success text-white task-done":"bg-white text-black ",r.a.createElement("div",{className:t,style:{height:"250px"}},r.a.createElement("h3",{className:"title"},e.title),r.a.createElement("p",{className:"text mb-6 text-break"},e.description),r.a.createElement("div",{className:"settings"},r.a.createElement("div",{className:"d-flex justify-content-between mb-1"},r.a.createElement("button",{type:"button",className:"btn status-priority text-white ".concat({low:"bg-primary",normal:"bg-warning",high:"bg-danger"}[e.priority])},e.priority),r.a.createElement("button",{type:"button",className:"btn btn-warning dropdown-toggle text-white","data-toggle":"dropdown"},"..."),r.a.createElement("div",{className:"dropdown-menu options-list"},r.a.createElement("div",{className:"dropdown-item done",onClick:this.handleDone},"done"),r.a.createElement("div",{className:"dropdown-item edit","data-toggle":"modal","data-target":"#exampleModalCenter",onClick:this.handleEdit},"edit"),r.a.createElement("div",{className:"dropdown-item delete",onClick:this.handleDelete},"delete")))))}}]),t}(r.a.Component),A=Object(i.b)(null,{doneTodo:function(e){return{type:"DONE_TODO",payload:e}},deleteTodo:function(e){return{type:"DELETE_TODO",payload:e}},edit:function(e){return{type:"EDIT",payload:e}},toggleOpen:p})(_);var H=Object(i.b)((function(e){return{todo:e.todo,filter:e.filter}}))((function(e){var t=e.todo,a=e.filter,n=[],o=[],l=[],i=[];t.forEach((function(e){!0===e.done?i.push(e):"high"===e.priority?n.push(e):"normal"===e.priority?o.push(e):"low"===e.priority&&l.push(e)}));var c=n.concat(o,l,i).filter((function(e){return""===a.search||-1!==e.title.toLowerCase().search(new RegExp("^".concat(a.search.toLowerCase()),"g"))})).filter((function(e,t,n){return"all"===a.open||"open"===a.open&&!1===n[t].done||"done"===a.open&&!0===n[t].done})).filter((function(e,t,n){return"all"===a.priority||n[t].priority===a.priority})).map((function(e){return r.a.createElement(A,{todo:e,key:e.id})}));return r.a.createElement("div",{className:"task-list row mt-5"},c)})),L=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(k.a)(this,Object(j.a)(t).call(this,e))).handleSearch=function(){var e=a.props.changeSearch;a.setState({search:a.inputSearch.value}),e(a.inputSearch.value)},a.handleStatus=function(){var e=a.props.changeStatus;a.setState({done:a.selectDone.value}),e(a.selectDone.value)},a.handlePriority=function(){var e=a.props.changePriority;a.setState({priority:a.selectPriority.value}),e(a.selectPriority.value)},a.onHandleClick=function(){var e=a.props,t=e.toggleOpen;(0,e.deletee)(),t(!0)},a.props=e,a.state={search:"",done:"",priority:""},a}return Object(x.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.search,n=t.done,o=t.priority;return r.a.createElement("nav",{className:"filter row mt-4"},r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",name:"search",className:"form-control",placeholder:"Search by title",ref:function(t){return e.inputSearch=t},onChange:this.handleSearch,value:a})),r.a.createElement("div",{className:"col"},r.a.createElement("select",{name:"open",className:"form-control",ref:function(t){return e.selectDone=t},onChange:this.handleStatus,value:n},r.a.createElement("option",{value:"all"},"all"),r.a.createElement("option",{value:"open"},"open"),r.a.createElement("option",{value:"done"},"done"))),r.a.createElement("div",{className:"col"},r.a.createElement("select",{name:"priority",className:"form-control",ref:function(t){return e.selectPriority=t},onChange:this.handlePriority,value:o},r.a.createElement("option",{value:"all"},"all"),r.a.createElement("option",{value:"high"},"high"),r.a.createElement("option",{value:"normal"},"normal"),r.a.createElement("option",{value:"low"},"low"))),r.a.createElement("button",{type:"button",className:"btn btn-success","data-toggle":"modal",onClick:this.onHandleClick},"Create"))}}]),t}(r.a.Component),G=Object(i.b)(null,{changeSearch:function(e){return{type:"CHANGE_SEARCH",payload:e}},changeStatus:function(e){return{type:"CHANGE_STATUS",payload:e}},changePriority:function(e){return{type:"CHANGE_PRIORITY",payload:e}},toggleOpen:p,deletee:u})(L);var I=Object(i.b)((function(e){return{isOpen:e.popup.isOpen}}))((function(e){var t=e.isOpen;return r.a.createElement("div",null,r.a.createElement(N,null),r.a.createElement(w,null,r.a.createElement(G,null),r.a.createElement(H,null)),r.a.createElement(T,null),t?r.a.createElement(P,null):"")}));var R=function(){return r.a.createElement("h1",null,"Page not found!")};var M=function(){return r.a.createElement(g.a,null,r.a.createElement(O.d,null,r.a.createElement(O.a,{exact:!0,from:"/",to:"/todos"}),r.a.createElement(O.b,{path:"/todos",component:I}),r.a.createElement(O.b,{component:R})))};l.a.render(r.a.createElement(i.a,{store:b},r.a.createElement(M,null)),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.4053ef6c.chunk.js.map